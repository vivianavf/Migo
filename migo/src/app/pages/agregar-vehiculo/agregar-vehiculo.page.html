<ion-toolbar>
  <ion-buttons slot="start">
    <ion-back-button
      default-href="/vehiculos"
      text=""
      icon="chevron-back"
    ></ion-back-button>
  </ion-buttons>
  <ion-title>NUEVO VEHICULO</ion-title>
</ion-toolbar>

<ion-content>

  <div class="ad">
    <ion-img
      src="../../../assets/images/banner3.jpeg"
      alt="Banner Publicitario"
      class="img-ad"
    ></ion-img>
  </div>

  <form>
    <ion-list>
      <ion-item-divider color="primary">
        <ion-label>Informacion vehicular</ion-label>
      </ion-item-divider>
      <ion-item [class.invalid-border]="isInvalidField('Nombre')">
        <ion-label color="primary" position="stacked">Nombre del Conductor</ion-label>
        <ion-input
          [(ngModel)]="formFields.Nombre"
          name="Nombre"
          placeholder="  Ingrese el nombre"
          class="rounded-input"
          required
          maxlength="30"
          pattern="^[a-zA-Z]+$"
        ></ion-input>
      </ion-item>

      <ion-item [class.invalid-border]="isInvalidField('Telefono')">
        <ion-label color="primary" position="stacked">Teléfono</ion-label>
        <ion-input
          [(ngModel)]="formFields.Telefono"
          name="Telefono"
          placeholder="  Ingrese el teléfono"
          class="rounded-input"
          required
          maxlength="10"
          pattern="^[0-9]+$"
        ></ion-input>
      </ion-item>

      <ion-item [class.invalid-border]="isInvalidField('Placa')">
        <ion-label color="primary" position="stacked">Placa</ion-label>
        <ion-input
          [(ngModel)]="formFields.Placa"
          name="Placa"
          placeholder="  Ingrese la placa. Ejemplo: GXY1234"
          class="rounded-input"
          required
          maxlength="7"
          pattern="^[A-Z]{3}-[0-9]{4}$"
        ></ion-input>
      </ion-item>

      <ion-item [class.invalid-border]="isInvalidField('Anio')">
        <ion-label color="primary" position="stacked">Año</ion-label>
        <ion-input
          [(ngModel)]="formFields.Anio"
          name="Anio"
          placeholder="  Ingrese el año"
          class="rounded-input"
          required
          maxlength="4"
          pattern="^[1-9][0-9]{3}$"
          [ngModelOptions]="{standalone: true}"
        ></ion-input>
      </ion-item>

      <ion-item [class.invalid-border]="isInvalidField('Marca')">
        <ion-label color="primary" position="stacked">Marca</ion-label>
        <ion-select [(ngModel)]="formFields.Marca" name="Marca" class="rounded-input" required>
          <ion-select-option *ngFor="let marca of valoresMarcas"  value="{{ marca.id_marca }}">{{ marca.nombre }}</ion-select-option>
          <!-- Agrega más opciones según sea necesario -->
        </ion-select>
      </ion-item>

      <ion-item [class.invalid-border]="isInvalidField('Modelo')">
        <ion-label color="primary" position="stacked">Modelo</ion-label>
        <ion-select [(ngModel)]="formFields.Modelo" name="Modelo" class="rounded-input" required>
          <ion-select-option *ngFor="let modelo of valoresModelos" value="{{ modelo.id_modelo }}">{{ modelo.nombre }}</ion-select-option>
          <!-- Agrega más opciones según sea necesario -->
        </ion-select>
      </ion-item>
    </ion-list>
    
    <ion-list>
      <ion-item-divider color="primary">
        <ion-label>Fotos del vehiculo</ion-label>
      </ion-item-divider>
      <div class='fotos-buttons-container'>
        <div class="button-container" (click)="takePhoto('Lado Izquierdo')">
          <ion-label color="primary">Lado Izquierdo</ion-label>
          <ion-button expand="full" class="add_button">
            Tomar foto
          </ion-button>
        </div>
  
        <div class="button-container" (click)="takePhoto('Lado Derecho')">
          <ion-label color="primary">Lado Derecho</ion-label>
          <ion-button expand="full" class="add_button">
            Tomar foto
          </ion-button>
        </div>
  
        <div class="button-container" (click)="takePhoto('Frontal')">
          <ion-label color="primary">Frontal</ion-label>
          <ion-button expand="full" class="add_button">
            Tomar foto
          </ion-button>
        </div>
  
        <div class="button-container" (click)="takePhoto('Trasera')">
          <ion-label color="primary">Trasera</ion-label>
          <ion-button expand="full" class="add_button">
            Tomar foto
          </ion-button>
        </div>
  
        <div class="button-container" (click)="takePhoto('Aerea')">
          <ion-label color="primary">Aerea</ion-label>
          <ion-button expand="full" class="add_button">
            Tomar foto
          </ion-button>
        </div>
      </div>
  
    </ion-list>

    <div *ngIf="showValidationError" class="validation-error">
      {{ showValidationError }}
    </div>
    <div class="submit-button-container">
      <ion-button expand="default" (click)="submitForm()">Agregar Conductor</ion-button>
    </div>
  </form>
</ion-content>

